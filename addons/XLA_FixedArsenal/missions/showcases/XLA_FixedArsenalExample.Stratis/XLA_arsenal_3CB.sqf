// Author: Alexander [3CB]
// Version Date: 29/7/15

// The box should have "this execVM <scriptname>" in it's init field.
_box = [_this, 0, objNull, [objNull]] call BIS_fnc_param;

if (isServer) then {

    _magazinesBlacklist = [

        // vanilla ArmA
        "30Rnd_556x45_Stanag_Tracer_Yellow",        // Opfor tracers
        "30Rnd_556x45_Stanag_Tracer_Green",         // Opfor tracers
        "I_IR_Grenade",
        "IEDUrbanSmall_Remote_Mag",
        "IEDLandSmall_Remote_Mag",      
        "O_IR_Grenade",
        
        // @leights_opfor
        "100Rnd_LOP_762x54_mag",
        "100Rnd_LOP_762x54_T_mag",
        "10Rnd_LOP_762x54_mag",
        "10Rnd_LOP_762x54_T_mag",
        "30Rnd_LOP_762x39_mag",
        "30Rnd_LOP_762x39_T_mag",
        
        // @nato_russian_sf_weapons
        "20Rnd_mas_762x51_Stanag", 
        "20Rnd_mas_762x51_T_Stanag",
        "30Rnd_mas_556x45_Stanag",
        "30Rnd_mas_556x45_T_Stanag",
        
        // @rhs_afrf3
        "rhs_mag_fakel",
        "rhs_mag_fakels",
        "rhs_mag_nspd",
        "rhs_mag_nspn_yellow",
        "rhs_mag_nspn_red",
        "rhs_mag_nspn_green",
        "rhs_mag_plamyam",
        "rhs_mag_rgd5",
        "rhs_mag_rdg2_white",
        "rhs_mag_rdg2_black",
        "rhs_mag_zarya2",
        "rhs_mine_pmn2_mag",
        "rhs_mine_tm62m_mag",
        
        // end of list
        "dummy_end"
    ];

    _weaponsWhitelist = [
        // WEAPONS
        "arifle_mas_aa12",
        "arifle_mas_arx",
        "arifle_mas_arx_gl",
        "arifle_mas_arx_l",
        "arifle_mas_arx_l_gl",
        "arifle_mas_asval",
        "arifle_mas_asval_ds",
        "arifle_mas_g3",
        "arifle_mas_g36c",
        "arifle_mas_g3_m203",
        "arifle_mas_g3s",
        "arifle_mas_g3s_m203",
        "arifle_mas_hk416",
        "arifle_mas_hk416_d",
        "arifle_mas_hk416_gl",
        "arifle_mas_hk416_gl_d",
        "arifle_mas_hk416_gl_v",
        "arifle_mas_hk416_m203",
        "arifle_mas_hk416_m203_d",
        "arifle_mas_hk416_m203_v",
        "arifle_mas_hk416_m203c",
        "arifle_mas_hk416_m203c_d",
        "arifle_mas_hk416_m203c_v",
        "arifle_mas_hk416_v",
        "arifle_mas_hk416c",
        "arifle_mas_hk416c_d",
        "arifle_mas_hk416c_v",
        "arifle_mas_hk417_m203c",
        "arifle_mas_hk417_m203c_d",
        "arifle_mas_hk417_m203c_v",
        "arifle_mas_hk417c",
        "arifle_mas_hk417c_d",
        "arifle_mas_hk417c_v",
        "arifle_mas_l119",
        "arifle_mas_l119_d",
        "arifle_mas_l119_gl",
        "arifle_mas_l119_gl_d",
        "arifle_mas_l119_gl_v",
        "arifle_mas_l119_m203",
        "arifle_mas_l119_m203_d",
        "arifle_mas_l119_m203_v",
        "arifle_mas_l119_v",
        "arifle_mas_l119c",
        "arifle_mas_l119c_d",
        "arifle_mas_l119c_v",
        "arifle_mas_lee",
        "arifle_mas_m1014",
        "arifle_mas_m14",
        "arifle_mas_m16",
        "arifle_mas_m16_gl",
        "arifle_mas_m27",
        "arifle_mas_m27_d",
        "arifle_mas_m27_v",
        "arifle_mas_m27m",
        "arifle_mas_m27m_d",
        "arifle_mas_m27m_v",
        "arifle_mas_m4",
        "arifle_mas_m4_d",
        "arifle_mas_m4_gl",
        "arifle_mas_m4_gl_d",
        "arifle_mas_m4_gl_v",
        "arifle_mas_m4_m203",
        "arifle_mas_m4_m203_d",
        "arifle_mas_m4_m203_v",
        "arifle_mas_m4_m203c",
        "arifle_mas_m4_m203c_d",
        "arifle_mas_m4_m203c_v",
        "arifle_mas_m4_v",
        "arifle_mas_m4c",
        "arifle_mas_m4c_d",
        "arifle_mas_m4c_v",
        "arifle_mas_m4vlt",
        "arifle_mas_mk16",
        "arifle_mas_mk16_gl",
        "arifle_mas_mk16_l",
        "arifle_mas_mk16_l_gl",
        "arifle_mas_mk17",
        "arifle_mas_mk17_gl",
        "arifle_mas_mp40",
        "arifle_mas_mp40_o",
        "arifle_mas_mp5",
        "arifle_mas_mp5_d",
        "arifle_mas_mp5_v",
        "arifle_mas_mp5sd",
        "arifle_mas_mp5sd_ds",
        "arifle_MX_Black_F",
        "arifle_MX_F",
        "arifle_MX_GL_Black_F",
        "arifle_MX_GL_F",
        "arifle_MX_SW_Black_F",
        "arifle_MX_SW_F",
        "arifle_MXC_Black_F",
        "arifle_MXC_F",
        "arifle_MXM_Black_F",
        "arifle_MXM_F",
        "arifle_SDAR_F",
        "ibr_m16a2",
        "ibr_steyr_a1",
        "ibr_steyr_a1_car",
        "ibr_steyr_a1_gl",
        "LMG_mas_m240_F",
        "LMG_mas_M249_F",
        "LMG_mas_M249_F_d",
        "LMG_mas_M249_F_v",
        "LMG_mas_M249a_F",
        "LMG_mas_m60_F",
        "LMG_mas_mg3_F",
        "LMG_mas_Mk200_F",
        "LMG_mas_mk48_F",
        "LMG_mas_mk48_F_d",
        "LMG_mas_mk48_F_v",
        "LMG_mas_pech_F",
        "LMG_Mk200_F",
        "MMG_02_black_F",
        "MMG_02_camo_F",
        "MMG_02_sand_F",
        "rhs_weap_m14ebrri",
        "rhs_weap_m16a4",
        "rhs_weap_m16a4_carryhandle",
        "rhs_weap_m16a4_carryhandle_grip",
        "rhs_weap_m16a4_carryhandle_grip_pmag",
        "rhs_weap_m16a4_carryhandle_M203",
        "rhs_weap_m16a4_carryhandle_pmag",
        "rhs_weap_m16a4_grip",
        "rhs_weap_m240B",
        "rhs_weap_m240B_CAP",
        "rhs_weap_m240G",
        "rhs_weap_m249_pip_L",
        "rhs_weap_m249_pip_L_para",
        "rhs_weap_m249_pip_L_vfg",
        "rhs_weap_m249_pip_S",
        "rhs_weap_m249_pip_S_para",
        "rhs_weap_m249_pip_S_vfg",
        "rhs_weap_m4",
        "rhs_weap_m4_carryhandle",
        "rhs_weap_m4_carryhandle_pmag",
        "rhs_weap_m4_grip",
        "rhs_weap_m4_grip2",
        "rhs_weap_m4_m203",
        "rhs_weap_m4_m320",
        "rhs_weap_m4a1",
        "rhs_weap_m4a1_carryhandle",
        "rhs_weap_m4a1_carryhandle_grip",
        "rhs_weap_m4a1_carryhandle_grip2",
        "rhs_weap_m4a1_carryhandle_m203",
        "rhs_weap_m4a1_carryhandle_pmag",
        "rhs_weap_m4a1_grip",
        "rhs_weap_m4a1_grip2",
        "rhs_weap_m4a1_m203",
        "rhs_weap_m4a1_m320",
        "rhs_weap_M590_5RD",
        "rhs_weap_M590_8RD",
        "rhs_weap_sr25",
        "rhs_weap_sr25_ec",
        "rhs_weap_XM2010",
        "rhs_weap_XM2010_d",
        "rhs_weap_XM2010_sa",
        "rhs_weap_XM2010_wd",
        "SMG_01_F",
        "SMG_02_F",
        "srifle_DMR_02_camo_F",
        "srifle_DMR_02_F",
        "srifle_DMR_02_sniper_F",
        "srifle_DMR_03_F",
        "srifle_DMR_03_khaki_F",
        "srifle_DMR_03_multicam_F",
        "srifle_DMR_03_spotter_F"
        "srifle_DMR_03_tan_F",
        "srifle_DMR_03_woodland_F",
        "srifle_DMR_05_blk_F",
        "srifle_DMR_05_tan_f",
        "srifle_DMR_06_camo_F",
        "srifle_DMR_06_olive_F",
        "srifle_EBR_F",
        "srifle_LRR_camo_F",
        "srifle_LRR_F",
        "srifle_mas_ebr",
        "srifle_mas_hk417",
        "srifle_mas_hk417_d",
        "srifle_mas_hk417_v",
        "srifle_mas_lrr",
        "srifle_mas_m107",
        "srifle_mas_m107_d",
        "srifle_mas_m107_v",
        "srifle_mas_m110",
        "srifle_mas_m24",
        "srifle_mas_m24_d",
        "srifle_mas_m24_v",
        "srifle_mas_mk17s",
        "srifle_mas_sr25",
        "srifle_mas_sr25_d",
        "srifle_mas_sr25_v",
        "UK3CB_BAF_L103A2",
        "UK3CB_BAF_L110A2",
        "UK3CB_BAF_L110A2_FIST",
        "UK3CB_BAF_L115A3",
        "UK3CB_BAF_L115A3_Desert",
        "UK3CB_BAF_L115A3_Desert_Ghillie",
        "UK3CB_BAF_L115A3_Ghillie",
        "UK3CB_BAF_L128A1",
        "UK3CB_BAF_L129A1",
        "UK3CB_BAF_L129A1_AFG",
        "UK3CB_BAF_L129A1_FGrip",
        "UK3CB_BAF_L129A1_Grippod",
        "UK3CB_BAF_L22",
        "UK3CB_BAF_L22A2",
        "UK3CB_BAF_L7A2",
        "UK3CB_BAF_L7A2_FIST",
        "UK3CB_BAF_L82A1",
        "UK3CB_BAF_L85A2",
        "UK3CB_BAF_L85A2_EMAG",
        "UK3CB_BAF_L85A2_RIS",
        "UK3CB_BAF_L85A2_RIS_AFG",
        "UK3CB_BAF_L85A2_UGL",
        "UK3CB_BAF_L85A2_UGL_HWS",
        "UK3CB_BAF_L86A2",
        "UK3CB_BAF_L86A3",
        "UK3CB_BAF_L91A1",
        "UK3CB_BAF_L92A1",
        "UK3CB_BAF_L98A2",

        // LAUNCHERS
        "launch_B_Titan_F",
        "launch_B_Titan_short_F",
        "launch_I_Titan_F",
        "launch_O_Titan_F",
        "mas_launch_maaws_F",
        "mas_launch_pzf60_F",
        "mas_launch_smaw_F",
        "mas_launch_Stinger_F",
        "rhs_weap_fim92",
        "rhs_weap_M136",
        "rhs_weap_M136_hedp",
        "rhs_weap_M136_hp",
        "UK3CB_BAF_AT4_AP_Launcher",
        "UK3CB_BAF_AT4_AT_Launcher",
        "UK3CB_BAF_AT4_CS_AP_Launcher",
        "UK3CB_BAF_AT4_CS_AT_Launcher",
        "UK3CB_BAF_Javelin_Slung_Tube",
        "UK3CB_BAF_L111A1",
        "UK3CB_BAF_L134A1",
        "UK3CB_BAF_L16",
        "UK3CB_BAF_L16_Tripod",
        "UK3CB_BAF_NLAW_Launcher",
        "UK3CB_BAF_Tripod",

        // HANDGUNS
        "hgun_ACPC2_F",
        "hgun_mas_acp_F",
        "hgun_mas_bhp_F",
        "hgun_mas_glock_F",
        "hgun_mas_glocksf_F",
        "hgun_mas_m23_F",
        "hgun_mas_p226_F",
        "hgun_mas_usp_F",
        "hgun_P07_F",
        "hgun_Pistol_heavy_01_F",
        "ibr_m1911",
        "rhs_weap_M320",
        "rhs_weap_rsp30_green",
        "rhs_weap_rsp30_red",
        "rhs_weap_rsp30_white",
        "rhs_weap_tr8",
        "rhsusf_weap_m1911a1",
        "UK3CB_BAF_L131A1",

        // BINOCULARS
        "ACE_MX2A",
        "ACE_Vector",
        "ACE_Yardage450",
        "Binocular",
        "Laserdesignator",
        "Laserdesignator_mas_h",
        "lerca_1200_black",
        "lerca_1200_tan",
        "Leupold_Mk4",
        "Rangefinder",
        "Rangefinder_mas_h",
        "rhs_tr8_periscope",
        "rhs_tr8_periscope_pip",
        "UK3CB_BAF_Javelin_CLU",
        "UK3CB_BAF_Soflam_Laserdesignator",

        // end of list
        "dummy_end"


    ];

    _itemsWhitelist = [

        // UNIFORMS
        "LOP_U_PMC_Fatigue_01",
        "LOP_U_PMC_Fatigue_02",
        "LOP_U_PMC_Fatigue_03",
        "LOP_U_PMC_Fatigue_04"
        "rhs_uniform_cu_ocp",
        "rhs_uniform_cu_ocp_101st",
        "rhs_uniform_cu_ocp_10th",
        "rhs_uniform_cu_ocp_1stcav",
        "rhs_uniform_cu_ocp_82nd",
        "rhs_uniform_cu_ucp",
        "rhs_uniform_cu_ucp_101st",
        "rhs_uniform_cu_ucp_10th",
        "rhs_uniform_cu_ucp_1stcav",
        "rhs_uniform_cu_ucp_82nd",
        "rhs_uniform_FROG01_d",
        "rhs_uniform_FROG01_m81",
        "rhs_uniform_FROG01_wd",
        "U_B_CombatUniform_mcam",
        "U_B_CombatUniform_mcam_tshirt",
        "U_B_CombatUniform_mcam_vest",
        "U_B_CombatUniform_mcam_worn",
        "U_B_CTRG_1",
        "U_B_CTRG_2",
        "U_B_CTRG_3",
        "U_B_FullGhillie_ard",
        "U_B_FullGhillie_lsh",
        "U_B_FullGhillie_sard",
        "U_B_GhillieSuit",
        "U_B_HeliPilotCoveralls",
        "U_B_PilotCoveralls",
        "U_B_survival_uniform",
        "U_B_Wetsuit",
        "U_BG_Guerilla2_1",
        "U_BG_Guerilla2_2",
        "U_BG_Guerilla2_3",
        "U_BG_Guerilla3_1",
        "U_BG_Guerrilla_6_1",
        "U_mas_afr_B_contract1",
        "U_mas_afr_B_contract2",
        "U_mas_afr_B_contract4",
        "U_mas_afr_B_pilot",
        "U_mas_afr_B_uniform",
        "U_mas_afr_B_uniform_s",
        "UK3CB_BAF_U_CombatUniform_MTP",
        "UK3CB_BAF_U_CombatUniform_MTP_Ghillie_RM",
        "UK3CB_BAF_U_CombatUniform_MTP_RM",
        "UK3CB_BAF_U_CombatUniform_MTP_ShortSleeve",
        "UK3CB_BAF_U_CombatUniform_MTP_ShortSleeve_RM",
        "UK3CB_BAF_U_CombatUniform_MTP_TShirt",
        "UK3CB_BAF_U_CombatUniform_MTP_TShirt_RM",
        "UK3CB_BAF_U_CrewmanCoveralls_RTR",
        "UK3CB_BAF_U_HeliPilotCoveralls_RAF",
        "UK3CB_BAF_U_HeliPilotCoveralls_RN",

        // VESTS
        "V_Rangemaster_belt",
        "V_BandollierB_khk",
        "V_BandollierB_cbr",
        "V_BandollierB_rgr",
        "V_BandollierB_blk",
        "V_BandollierB_oli",
        "V_PlateCarrier1_rgr",
        "V_PlateCarrier2_rgr",
        "V_PlateCarrierGL_rgr",
        "V_PlateCarrierGL_blk",
        "V_PlateCarrierGL_mtp",
        "V_PlateCarrier1_blk",
        "V_PlateCarrierSpec_rgr",
        "V_PlateCarrierSpec_blk",
        "V_PlateCarrierSpec_mtp",
        "V_Chestrig_khk",
        "V_Chestrig_rgr",
        "V_Chestrig_blk",
        "V_Chestrig_oli",
        "V_TacVest_khk",
        "V_TacVest_brn",
        "V_TacVest_oli",
        "V_TacVest_blk",
        "V_TacVest_camo",
        "V_TacVest_blk_POLICE",
        "V_TacVestIR_blk",
        "V_PlateCarrierIA1_dgtl",
        "V_RebreatherB",
        "V_PlateCarrier_Kerry",
        "V_PlateCarrierL_CTRG",
        "V_PlateCarrierH_CTRG",
        "V_mas_afr_BandollierB_rgr",
        "V_mas_afr_BandollierB_blk",
        "V_mas_afr_Rangemaster_belt",
        "V_mas_afr_PlateCarrier1_rgr",
        "V_mas_afr_ChestrigB_rgr_g",
        "V_mas_afr_ChestrigB_rgr",
        "V_mas_afr_TacVest_b",
        "V_mas_afr_PlateCarrierIA1_B",
        "rhsusf_iotv_ocp",
        "rhsusf_iotv_ocp_Grenadier",
        "rhsusf_iotv_ocp_Medic",
        "rhsusf_iotv_ocp_Repair",
        "rhsusf_iotv_ocp_Rifleman",
        "rhsusf_iotv_ocp_SAW",
        "rhsusf_iotv_ocp_Squadleader",
        "rhsusf_iotv_ocp_Teamleader",
        "rhsusf_iotv_ucp",
        "rhsusf_iotv_ucp_Grenadier",
        "rhsusf_iotv_ucp_Medic",
        "rhsusf_iotv_ucp_Repair",
        "rhsusf_iotv_ucp_Rifleman",
        "rhsusf_iotv_ucp_SAW",
        "rhsusf_iotv_ucp_Squadleader",
        "rhsusf_iotv_ucp_Teamleader",
        "rhsusf_spc",
        "rhsusf_spc_rifleman",
        "UK3CB_BAF_V_Pilot_A",
        "UK3CB_BAF_V_Osprey",
        "UK3CB_BAF_V_Osprey_Belt_A",
        "UK3CB_BAF_V_Osprey_Holster",
        "UK3CB_BAF_V_Osprey_Grenadier_A",
        "UK3CB_BAF_V_Osprey_Grenadier_B",
        "UK3CB_BAF_V_Osprey_Marksman_A",
        "UK3CB_BAF_V_Osprey_Medic_A",
        "UK3CB_BAF_V_Osprey_Medic_B",
        "UK3CB_BAF_V_Osprey_Medic_C",
        "UK3CB_BAF_V_Osprey_Medic_D",
        "UK3CB_BAF_V_Osprey_MG_A",
        "UK3CB_BAF_V_Osprey_MG_B",
        "UK3CB_BAF_V_Osprey_Rifleman_A",
        "UK3CB_BAF_V_Osprey_Rifleman_B",
        "UK3CB_BAF_V_Osprey_Rifleman_C",
        "UK3CB_BAF_V_Osprey_Rifleman_D",
        "UK3CB_BAF_V_Osprey_Rifleman_E",
        "UK3CB_BAF_V_Osprey_Rifleman_F",
        "UK3CB_BAF_V_Osprey_SL_A",
        "UK3CB_BAF_V_Osprey_SL_B",
        "UK3CB_BAF_V_Osprey_SL_C",
        "UK3CB_BAF_V_Osprey_SL_D",
        "LOP_V_CarrierLite_TRI",
        "LOP_V_CarrierRig_TRI",
        "LOP_V_Chestrig_Kamysh",
        "LOP_V_Chestrig_VSR",

        // HELMETS
        "H_Bandanna_camo",
        "H_Bandanna_cbr",
        "H_Bandanna_gry",
        "H_Bandanna_khk",
        "H_Bandanna_khk_hs",
        "H_Bandanna_mcamo",
        "H_Bandanna_sand",
        "H_Bandanna_sgg",
        "H_Beret_02",
        "H_Beret_blk",
        "H_Beret_Colonel",
        "H_Booniehat_khk",
        "H_Booniehat_khk_hs",
        "H_Booniehat_mcamo",
        "H_Booniehat_oli",
        "H_Booniehat_tan",
        "H_Cap_blk",
        "H_Cap_blk_CMMG",
        "H_Cap_blk_ION",
        "H_Cap_grn",
        "H_Cap_grn_BI",
        "H_Cap_headphones",
        "H_Cap_khaki_specops_UK",
        "H_Cap_oli",
        "H_Cap_oli_hs",
        "H_Cap_police",
        "H_Cap_tan",
        "H_Cap_tan_specops_US",
        "H_Cap_usblack",
        "H_CrewHelmetHeli_B",
        "H_HelmetB",
        "H_HelmetB_black",
        "H_HelmetB_camo",
        "H_HelmetB_desert",
        "H_HelmetB_grass",
        "H_HelmetB_light",
        "H_HelmetB_light_black",
        "H_HelmetB_light_desert",
        "H_HelmetB_light_grass",
        "H_HelmetB_light_sand",
        "H_HelmetB_light_snakeskin",
        "H_HelmetB_sand",
        "H_HelmetB_snakeskin",
        "H_HelmetCrew_0",
        "H_HelmetCrew_B",
        "H_HelmetSpecB",
        "H_HelmetSpecB_blk",
        "H_HelmetSpecB_paint1",
        "H_HelmetSpecB_paint2",
        "H_HelmetSpecB_sand",
        "H_HelmetSpecB_snakeskin",
        "H_mas_afr_beret_b",
        "H_mas_afr_beret_bs",
        "H_mas_afr_Booniehat_b",
        "H_mas_afr_Booniehat_b2",
        "H_mas_afr_CrewHelmetHeli_B",
        "H_mas_afr_headset_b",
        "H_mas_afr_HelmetB",
        "H_mas_afr_HelmetCrew_B",
        "H_mas_afr_MilCap_b",
        "H_mas_afr_MilCap_bs",
        "H_mas_afr_PilotHelmetHeli_B",
        "H_MilCap_gry",
        "H_MilCap_mcamo",
        "H_PilotHelmetFighter_B",
        "H_PilotHelmetHeli_B",
        "H_Shemag_olive",
        "H_Shemag_olive_hs",
        "H_ShemagOpen_khk",
        "H_ShemagOpen_tan",
        "H_Watchcap_blk",
        "H_Watchcap_camo",
        "H_Watchcap_cbr",
        "H_Watchcap_khk",
        "JS_JC_FA18_PilotHelmet",
        "LOP_H_Shemag_BLK",
        "rhs_Booniehat_m81",
        "rhs_Booniehat_marpatd",
        "rhs_Booniehat_marpatwd",
        "rhs_Booniehat_ocp",
        "rhs_Booniehat_ucp",
        "RHS_jetpilot_usaf",
        "rhsusf_ach_bare",
        "rhsusf_ach_bare_des",
        "rhsusf_ach_bare_des_ess",
        "rhsusf_ach_bare_des_headset",
        "rhsusf_ach_bare_des_headset_ess",
        "rhsusf_ach_bare_ess",
        "rhsusf_ach_bare_headset",
        "rhsusf_ach_bare_headset_ess",
        "rhsusf_ach_bare_semi",
        "rhsusf_ach_bare_semi_ess",
        "rhsusf_ach_bare_semi_headset",
        "rhsusf_ach_bare_semi_headset_ess",
        "rhsusf_ach_bare_tan",
        "rhsusf_ach_bare_tan_ess",
        "rhsusf_ach_bare_tan_headset",
        "rhsusf_ach_bare_tan_headset_ess",
        "rhsusf_ach_bare_wood",
        "rhsusf_ach_bare_wood_ess",
        "rhsusf_ach_bare_wood_headset",
        "rhsusf_ach_bare_wood_headset_ess",
        "rhsusf_ach_helmet_camo_ocp",
        "rhsusf_ach_helmet_ESS_ocp",
        "rhsusf_ach_helmet_ESS_ucp",
        "rhsusf_ach_helmet_headset_ess_ocp",
        "rhsusf_ach_helmet_headset_ess_ucp",
        "rhsusf_ach_helmet_headset_ocp",
        "rhsusf_ach_helmet_headset_ucp",
        "rhsusf_ach_helmet_M81",
        "rhsusf_ach_helmet_ocp",
        "rhsusf_ach_helmet_ucp",
        "rhsusf_Bowman",
        "rhsusf_bowman_cap",
        "rhsusf_cvc_ess",
        "rhsusf_cvc_green_ess",
        "rhsusf_cvc_green_helmet",
        "rhsusf_cvc_helmet",
        "rhsusf_hgu56p",
        "rhsusf_hgu56p_mask",
        "rhsusf_lwh_helmet_marpatd",
        "rhsusf_lwh_helmet_marpatwd",
        "rhsusf_mich_bare_norotos",
        "rhsusf_mich_bare_norotos_arc",
        "rhsusf_mich_bare_norotos_arc_tan",
        "rhsusf_mich_bare_norotos_tan",
        "rhsusf_mich_helmet_marpatd",
        "rhsusf_mich_helmet_marpatd_alt",
        "rhsusf_mich_helmet_marpatd_norotos",
        "rhsusf_mich_helmet_marpatd_norotos_arc",
        "rhsusf_mich_helmet_marpatwd",
        "rhsusf_mich_helmet_marpatwd_alt",
        "rhsusf_mich_helmet_marpatwd_norotos",
        "rhsusf_mich_helmet_marpatwd_norotos_arc",
        "rhsusf_opscore_01",
        "rhsusf_opscore_01_tan",
        "rhsusf_opscore_02",
        "rhsusf_opscore_02_tan",
        "rhsusf_opscore_03_ocp",
        "rhsusf_opscore_04_ocp",
        "rhsusf_patrolcap_ocp",
        "rhsusf_patrolcap_ucp",
        "UK3CB_BAF_H_Beret_PR",
        "UK3CB_BAF_H_Beret_PR_PRR",
        "UK3CB_BAF_H_Beret_PWRR",
        "UK3CB_BAF_H_Beret_PWRR_PRR",
        "UK3CB_BAF_H_Beret_RAMC",
        "UK3CB_BAF_H_Beret_RAMC_Officer",
        "UK3CB_BAF_H_Beret_RAMC_Officer_PRR",
        "UK3CB_BAF_H_Beret_RAMC_PRR",
        "UK3CB_BAF_H_Beret_RLC_Commando",
        "UK3CB_BAF_H_Beret_RLC_Commando_PRR",
        "UK3CB_BAF_H_Beret_RM_Bootneck",
        "UK3CB_BAF_H_Beret_RM_Bootneck_PRR",
        "UK3CB_BAF_H_Beret_RM_Officer",
        "UK3CB_BAF_H_Beret_RM_Officer_PRR",
        "UK3CB_BAF_H_Beret_RM_Parade",
        "UK3CB_BAF_H_Beret_RM_Recruit",
        "UK3CB_BAF_H_Beret_RM_Recruit_PRR",
        "UK3CB_BAF_H_Beret_RTR",
        "UK3CB_BAF_H_Beret_RTR_PRR",
        "UK3CB_BAF_H_Beret_SAS",
        "UK3CB_BAF_H_Beret_SAS_PRR",
        "UK3CB_BAF_H_Beret_SBS",
        "UK3CB_BAF_H_Beret_SBS_PRR",
        "UK3CB_BAF_H_CrewHelmet_A",
        "UK3CB_BAF_H_CrewHelmet_ESS_A",
        "UK3CB_BAF_H_Headset_PRR",
        "UK3CB_BAF_H_Mk7_Camo_A",
        "UK3CB_BAF_H_Mk7_Camo_B",
        "UK3CB_BAF_H_Mk7_Camo_C",
        "UK3CB_BAF_H_Mk7_Camo_CESS_A",
        "UK3CB_BAF_H_Mk7_Camo_CESS_B",
        "UK3CB_BAF_H_Mk7_Camo_CESS_C",
        "UK3CB_BAF_H_Mk7_Camo_CESS_D",
        "UK3CB_BAF_H_Mk7_Camo_D",
        "UK3CB_BAF_H_Mk7_Camo_E",
        "UK3CB_BAF_H_Mk7_Camo_ESS_A",
        "UK3CB_BAF_H_Mk7_Camo_ESS_B",
        "UK3CB_BAF_H_Mk7_Camo_ESS_C",
        "UK3CB_BAF_H_Mk7_Camo_ESS_D",
        "UK3CB_BAF_H_Mk7_Camo_F",
        "UK3CB_BAF_H_Mk7_Net_A",
        "UK3CB_BAF_H_Mk7_Net_B",
        "UK3CB_BAF_H_Mk7_Net_C",
        "UK3CB_BAF_H_Mk7_Net_CESS_A",
        "UK3CB_BAF_H_Mk7_Net_CESS_B",
        "UK3CB_BAF_H_Mk7_Net_CESS_C",
        "UK3CB_BAF_H_Mk7_Net_CESS_D",
        "UK3CB_BAF_H_Mk7_Net_D",
        "UK3CB_BAF_H_Mk7_Net_ESS_A",
        "UK3CB_BAF_H_Mk7_Net_ESS_B",
        "UK3CB_BAF_H_Mk7_Net_ESS_C",
        "UK3CB_BAF_H_Mk7_Net_ESS_D",
        "UK3CB_BAF_H_Mk7_Scrim_A",
        "UK3CB_BAF_H_Mk7_Scrim_B",
        "UK3CB_BAF_H_Mk7_Scrim_C",
        "UK3CB_BAF_H_Mk7_Scrim_D",
        "UK3CB_BAF_H_Mk7_Scrim_E",
        "UK3CB_BAF_H_Mk7_Scrim_ESS_A",
        "UK3CB_BAF_H_Mk7_Scrim_ESS_B",
        "UK3CB_BAF_H_Mk7_Scrim_ESS_C",
        "UK3CB_BAF_H_Mk7_Scrim_F",
        "UK3CB_BAF_H_PilotHelmetHeli_A",

        // FACEWEAR
        "G_Aviator",
        "G_B_Diving",
        "G_Balaclava_blk",
        "G_Balaclava_combat",
        "G_Balaclava_lowprofile",
        "G_Balaclava_oli",
        "G_Bandanna_aviator",
        "G_Bandanna_beast",
        "G_Bandanna_blk",
        "G_Bandanna_khk",
        "G_Bandanna_oli",
        "G_Bandanna_shades",
        "G_Bandanna_sport",
        "G_Bandanna_tan",
        "G_Combat",
        "G_Diving",
        "G_Goggles_VR",
        "G_I_Diving",
        "G_Lady_Blue",
        "G_Lowprofile",
        "G_mas_wpn_gasmask",
        "G_O_Diving",
        "G_Shades_Black",
        "G_Shades_Blue",
        "G_Shades_Green",
        "G_Shades_Red",
        "G_Spectacles",
        "G_Spectacles_Tinted",
        "G_Sport_Blackred",
        "G_Sport_BlackWhite",
        "G_Sport_Blackyellow",
        "G_Sport_Checkered",
        "G_Sport_Greenblack",
        "G_Sport_Red",
        "G_Squares",
        "G_Squares_Tinted",
        "G_Tactical_Black",
        "G_Tactical_Clear",
        "rhs_balaclava",
        "rhs_googles_black",
        "rhs_googles_clear",
        "rhs_googles_orange",
        "rhs_googles_yellow",
        "rhs_scarf",
        "UK3CB_BAF_G_Tactical_Black"
        "UK3CB_BAF_G_Tactical_Clear",
        "UK3CB_BAF_G_Tactical_Grey",
        "UK3CB_BAF_G_Tactical_Orange",
        "UK3CB_BAF_G_Tactical_Yellow",

        // NIGHT VISION
        "ACE_NVG_Gen1",
        "ACE_NVG_Gen2",
        "ACE_NVG_Gen4",
        "ACE_NVG_Wide"
        "NVGoggles",
        "NVGoggles_INDEP",
        "NVGoggles_OPFOR",
        "rhsusf_ANPVS_14",
        "rhsusf_ANPVS_15",
        "UK3CB_BAF_HMNVS",

        // BINOCULARS
        "ACE_MX2A",
        "ACE_Vector",
        "ACE_Yardage450",
        "Binocular",
        "Laserdesignator",
        "Laserdesignator_mas_h",
        "lerca_1200_black",
        "lerca_1200_tan",
        "Leupold_Mk4",
        "Rangefinder",
        "Rangefinder_mas_h",
        "rhs_tr8_periscope",
        "rhs_tr8_periscope_pip",
        "UK3CB_BAF_Javelin_CLU",
        "UK3CB_BAF_Soflam_Laserdesignator",

        // MISC
        "ACE_Altimeter",
        "B_UavTerminal",
        "ItemCompass",
        "ItemGPS",
        "ItemMap",
        "ItemWatch",
        "tf_anprc152",
        "tf_microdagr",
        "tf_rf7800str",

        // ITEMS
        "ACE_ATragMX",
        "ACE_atropine",
        "ACE_Banana",
        "ACE_bloodIV",
        "ACE_bloodIV_250",
        "ACE_bloodIV_500",
        "ACE_bodyBag",
        "ACE_CableTie",
        "ACE_Cellphone",
        "ACE_Clacker",
        "ACE_DAGR",
        "ACE_DeadManSwitch",
        "ACE_DefusalKit",
        "ACE_EarPlugs",
        "ACE_elasticBandage",
        "ACE_epinephrine",
        "ACE_fieldDressing",
        "ACE_HuntIR_monitor",
        "ACE_IR_Strobe_Item",
        "ACE_Kestrel4500",
        "ACE_key_civ",
        "ACE_key_east",
        "ACE_key_indp",
        "ACE_key_lockpick",
        "ACE_key_master",
        "ACE_key_west",
        "ACE_M26_Clacker",
        "ACE_MapTools",
        "ACE_microDAGR",
        "ACE_morphine",
        "ACE_packingBandage",
        "ACE_personalAidKit",
        "ACE_plasmaIV",
        "ACE_plasmaIV_250",
        "ACE_plasmaIV_500",
        "ACE_quikclot",
        "ACE_RangeCard",
        "ACE_RangeTable_82mm",
        "ACE_salineIV",
        "ACE_salineIV_250",
        "ACE_salineIV_500",
        "ACE_Sandbag_empty",
        "ACE_SpareBarrel",
        "ACE_SpottingScope",
        "ACE_surgicalKit",
        "ACE_tourniquet",
        "ACE_Tripod",
        "ACE_UAVBattery",
        "ACE_wirecutter",
        "MineDetector",
        "ToolKit",
        
        // end of list
        "dummy_end"
    ];

    

    _backpackWhitelist = [
        
        // vanilla ArmA
        "B_AA_01_weapon_F",
        "B_AT_01_weapon_F",
        "B_AssaultPack_blk",
        "B_AssaultPack_cbr",
        "B_AssaultPack_Kerry",
        "B_AssaultPack_khk",
        "B_AssaultPack_mcamo",
        "B_AssaultPack_rgr",
        "B_AssaultPack_sgg",
        "B_Kitbag_cbr",
        "B_Kitbag_mcamo",
        "B_Kitbag_rgr",
        "B_Kitbag_sgg",
        "B_TacticalPack_blk",
        "B_TacticalPack_mcamo",
        "B_TacticalPack_oli",
        "B_TacticalPack_rgr",
        "B_Carryall_cbr",
        "B_Carryall_khk",
        "B_Carryall_mcamo",
        "B_Carryall_oli",
        "B_Parachute",
        "B_GMG_01_weapon_F",
        "B_GMG_01_A_weapon_F",
        "B_HMG_01_high_weapon_F",
        "B_HMG_01_A_high_weapon_F",
        "B_GMG_01_high_weapon_F",
        "B_GMG_01_A_high_weapon_F",
        "B_HMG_01_support_F",
        "B_HMG_01_support_high_F",
        "B_HMG_01_weapon_F",
        "B_HMG_01_A_weapon_F",
        "B_Mortar_01_support_F",
        "B_Mortar_01_weapon_F",
        "B_Static_Designator_01_weapon_F",
        "B_UAV_01_backpack_F",      
        
        // @3cb_baf_equipment
        "UK3CB_BAF_B_Bergen_MTP_Engineer_H_A",
        "UK3CB_BAF_B_Bergen_MTP_Engineer_L_A",
        "UK3CB_BAF_B_Bergen_MTP_JTAC_H_A",
        "UK3CB_BAF_B_Bergen_MTP_JTAC_L_A",
        "UK3CB_BAF_B_Bergen_MTP_Medic_H_A",
        "UK3CB_BAF_B_Bergen_MTP_Medic_H_B",
        "UK3CB_BAF_B_Bergen_MTP_Medic_L_A",
        "UK3CB_BAF_B_Bergen_MTP_Medic_L_B",
        "UK3CB_BAF_B_Bergen_MTP_PointMan_H_A",
        "UK3CB_BAF_B_Bergen_MTP_PointMan_L_A",
        "UK3CB_BAF_B_Bergen_MTP_Radio_H_A",
        "UK3CB_BAF_B_Bergen_MTP_Radio_H_B",
        "UK3CB_BAF_B_Bergen_MTP_Radio_L_A",
        "UK3CB_BAF_B_Bergen_MTP_Radio_L_B",
        "UK3CB_BAF_B_Bergen_MTP_Rifleman_H_A",
        "UK3CB_BAF_B_Bergen_MTP_Rifleman_H_B",
        "UK3CB_BAF_B_Bergen_MTP_Rifleman_H_C",
        "UK3CB_BAF_B_Bergen_MTP_Rifleman_L_A",
        "UK3CB_BAF_B_Bergen_MTP_Rifleman_L_B",
        "UK3CB_BAF_B_Bergen_MTP_Rifleman_L_C",
        "UK3CB_BAF_B_Bergen_MTP_Rifleman_L_D",
        "UK3CB_BAF_B_Bergen_MTP_Sapper_H_A",
        "UK3CB_BAF_B_Bergen_MTP_Sapper_L_A",
        "UK3CB_BAF_B_Bergen_MTP_SL_H_A",
        "UK3CB_BAF_B_Bergen_MTP_SL_L_A",        
                

        // @rhs_usf3
        "rhsusf_assault_eagleaiii_coy",
        "rhsusf_assault_eagleaiii_ocp",
        "rhsusf_assault_eagleaiii_ucp",
        "rhsusf_falconii",

        // @task_force_radio
        "tf_anarc210",
        "tf_rt1523g",
        "tf_rt1523g_big",
        "tf_rt1523g_big_bwmod",
        "tf_rt1523g_big_bwmod_tropen",
        "tf_rt1523g_big_rhs",
        "tf_rt1523g_black", 
        "tf_rt1523g_bwmod",
        "tf_rt1523g_fabric",
        "tf_rt1523g_green",
        "tf_rt1523g_rhs",
        "tf_rt1523g_sage",
        
        // unknown Massi
        "B_mas_AssaultPack_black",
        "B_mas_AssaultPack_des",
        "B_mas_AssaultPack_mul",
        "B_mas_AssaultPack_rng",
        "B_mas_AssaultPack_wint",
        "B_mas_Kitbag_black",
        "B_mas_Kitbag_des",
        "B_mas_Kitbag_mul",
        "B_mas_Kitbag_rng",
        "B_mas_Kitbag_wint",

        // end of list
        "dummy_end" 
    ];

    // TFAR UNIQUE TO GENERIC
    _forceReplace = [];
    _forceReplace resize 1998;
    for [{_i=0}, {_i<999}, {_i=_i+1}] do {
        _forceReplace set [_i, ["tf_anprc152_" + (str (_i+1)), "tf_anprc152"]]; 
        _forceReplace set [_i+999, ["tf_rf7800str_" + (str (_i+1)), "tf_rf7800str"]];            
    };

    // Check if @XLA_FixedArsenal is loaded
     if !(isnil "XLA_fnc_addVirtualItemCargo") then {
        [_box, _itemsWhitelist, true, false] call XLA_fnc_addVirtualItemCargo;       
        [_box, _weaponsWhitelist, true, false] call XLA_fnc_addVirtualWeaponCargo; 
        [_box, _backpackWhitelist, true, false] call XLA_fnc_addVirtualBackpackCargo; 
        [_box, ["%ALL"], true, false] call XLA_fnc_addVirtualMagazineCargo;
        [_box, _magazinesBlacklist, true, false] call XLA_fnc_addVirtualMagazineBlacklist;        
        _addActionText = "<t color='#45B6EA'>Open Armoury [3CB]";
        ["AmmoboxInit", [_box,false,{true}, _addActionText, false, _forceReplace]] spawn XLA_fnc_arsenal;
    };
};